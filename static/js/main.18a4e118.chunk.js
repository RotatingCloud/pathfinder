(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(28)},19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(8),r=n.n(a),s=(n(19),n(21),n(9)),c=n(2),l=n(3),d=n(5),u=n(4),f=n(6),h=n(1),m=(n(23),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.col,n=e.isDestination,i=e.isWall,a=e.onMouseDown,r=e.onMouseEnter,s=e.onMouseUp,c=e.row,l=e.isVisited,d=e.distance,u=(e.heuristic,n?"node-destination":i?"node-wall":"");return o.a.createElement("div",{id:"node-".concat(c,"-").concat(t),className:"node ".concat(u),onMouseDown:function(e){return a(c,t,e)},onMouseEnter:function(e){return r(c,t,e)},onMouseUp:function(){return s()}},l&&d!==1/0&&o.a.createElement("span",{className:"node-distance"},d))}}]),t}(i.Component));function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t,n){var i=[];t.distance=0;for(var o=function(e){var t,n=[],i=v(e);try{for(i.s();!(t=i.n()).done;){var o,a=t.value,r=v(a);try{for(r.s();!(o=r.n()).done;){var s=o.value;n.push(s)}}catch(c){r.e(c)}finally{r.f()}}}catch(c){i.e(c)}finally{i.f()}return n}(e);o.length;){p(o);var a=o.shift();if(!a.isWall){if(a.distance===1/0)return i;if(a.isVisited=!0,i.push(a),a===n)return i;b(a,e)}}}function p(e){e.sort(function(e,t){return e.distance-t.distance})}function b(e,t){var n,i=v(function(e,t){var n=[],i=e.col,o=e.row;return o>0&&n.push(t[o-1][i]),o<t.length-1&&n.push(t[o+1][i]),i>0&&n.push(t[o][i-1]),i<t[0].length-1&&n.push(t[o][i+1]),n.filter(function(e){return!e.isVisited})}(e,t));try{for(i.s();!(n=i.n()).done;){var o=n.value;o.distance=e.distance+1,o.previousNode=e}}catch(a){i.e(a)}finally{i.f()}}function w(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N(e,t){return Math.abs(e.row-t.row)+Math.abs(e.col-t.col)}function k(e,t,n){var i=[];t.distance=0,t.heuristic=N(t,n);var o=function(e){var t,n=[],i=S(e);try{for(i.s();!(t=i.n()).done;){var o,a=t.value,r=S(a);try{for(r.s();!(o=r.n()).done;){var s=o.value;n.push(s)}}catch(c){r.e(c)}finally{r.f()}}}catch(c){i.e(c)}finally{i.f()}return n}(e);for(console.log("Grid:",e),console.log("Start node:",t),console.log("Finish node:",n);o.length;){A(o);var a=o.shift();if(!a.isWall){if(a.distance===1/0)return console.log("Visited nodes in order (trapped):",i),i;if(a.isVisited=!0,i.push(a),a===n)return console.log("Visited nodes in order (path found):",i),i;D(a,e,n)}}}function A(e){e.sort(function(e,t){return e.distance+e.heuristic-(t.distance+t.heuristic)})}function D(e,t,n){var i,o=S(function(e,t){var n=[],i=e.col,o=e.row;o>0&&n.push(t[o-1][i]);o<t.length-1&&n.push(t[o+1][i]);i>0&&n.push(t[o][i-1]);i<t[0].length-1&&n.push(t[o][i+1]);return n.filter(function(e){return!e.isVisited})}(e,t));try{for(o.s();!(i=o.n()).done;){var a=i.value,r=e.distance+1;r<a.distance&&(a.distance=r,a.heuristic=N(a,n),a.previousNode=e)}}catch(s){o.e(s)}finally{o.f()}}n(25);var j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).addDestinationNode=function(t,n){var i=e.state,o=i.grid,a=i.destinationNodes,r=i.isAnimating,s=o.slice(),c=s[t][n];if(!r){if(console.log("Clicked node:",c),c.isSelected){console.log("Node is already selected, deselecting it..."),c.color="destination",c.isSelected=!1,c.isDestination=!1;var l=a.findIndex(function(e){return e.row===t&&e.col===n});-1!==l&&a.splice(l,1)}else{console.log("Node is not selected, selecting it...");var d=s.flat().filter(function(e){return"node-destination"===e.color&&e.isSelected});if(2===d.length){var u=d.reduce(function(e,t){return e.isSelectedAt<t.isSelectedAt?e:t});u.color="destination",u.isSelected=!1,u.isDestination=!1;var f=a.findIndex(function(e){return e.row===u.row&&e.col===u.col});-1!==f&&a.splice(f,1)}c.color="node-destination",c.isSelected=!0,c.isSelectedAt=Date.now(),c.isDestination=!0,c.className=c.isSelected?"node node-destination":"node destination",a.push(c)}e.setState({grid:s,destinationNodes:a}),console.log("Destination nodes:"),a.forEach(function(e){console.log("(".concat(e.row,", ").concat(e.col,")"))})}},e.handleMouseDown=function(t,n,i){if(!e.state.isAnimating)if(e.state.shiftKeyPressed){var o=I(e.state.grid,t,n,i);e.setState({grid:o,mouseIsPressed:!0})}else e.addDestinationNode(t,n)},e.handleKeyDown=function(t){"Shift"===t.key&&e.setState({shiftKeyPressed:!0})},e.handleKeyUp=function(t){"Shift"===t.key&&e.setState({shiftKeyPressed:!1})},e.clearGrid=function(){console.log("Clearing grid...");var t=M();e.setState({grid:t},function(){for(var t=document.getElementsByClassName("node"),n=0;n<t.length;n++){var i=t[n].className;console.log("Node class name:",i),"node node-destination"!==i?(t[n].className="node",t[n].setAttribute("key","".concat(t[n].id)),console.log("Node reset.")):console.log("Node is Start or Finish")}e.setState({destinationNodes:[]}),console.log("Destination nodes cleared.")})},e.clearGridExceptDestinations=function(){var t=M();e.setState({grid:t},function(){for(var t=document.getElementsByClassName("node"),n=0;n<t.length;n++){"node node-destination"===t[n].className?(t[n].className="node",t[n].setAttribute("key","".concat(t[n].id))):console.log("Node is Start or Finish")}e.setState({destinationNodes:[]})})},e.updateGrid=function(){var t=e.state,n=t.grid,i=t.startNodeRow,o=t.startNodeCol,a=t.finishNodeRow,r=t.finishNodeCol,s=n.slice(),c=n.find(function(e){return e.find(function(e){return e.isStart})}),l=n.find(function(e){return e.find(function(e){return e.isFinish})});c&&(c[c.findIndex(function(e){return e.isStart})].isStart=!1),l&&(l[l.findIndex(function(e){return e.isFinish})].isFinish=!1),s[i][o].isStart=!0,s[i][o].color="start",s[a][r].isFinish=!0,s[a][r].color="finish",e.setState({grid:s})},e.state={grid:[],destinationNodes:[],isAnimating:!1},e.clearGrid=e.clearGrid.bind(Object(h.a)(Object(h.a)(e))),e.addDestinationNode=e.addDestinationNode.bind(Object(h.a)(Object(h.a)(e))),e.handleMouseDown=e.handleMouseDown.bind(Object(h.a)(Object(h.a)(e))),e.handleMouseEnter=e.handleMouseEnter.bind(Object(h.a)(Object(h.a)(e))),e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=M();this.setState({grid:e}),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"handleMouseEnter",value:function(e,t,n){if(!this.state.isAnimating&&this.state.mouseIsPressed&&this.state.shiftKeyPressed){var i=I(this.state.grid,e,t,n);this.setState({grid:i})}}},{key:"handleMouseUp",value:function(){this.setState({mouseIsPressed:!1})}},{key:"handleMouseLeave",value:function(e,t){this.state.mouseIsPressed&&this.setState({mouseIsPressed:!1})}},{key:"animatePathfinding",value:function(e,t){var n=this;this.setState({isAnimating:!0});for(var i=function(i){if(i===e.length)return setTimeout(function(){n.animateShortestPath(t),n.setState({isAnimating:!1})},10*i),{v:void 0};setTimeout(function(){var t=e[i],n=document.getElementById("node-".concat(t.row,"-").concat(t.col));"node node-start"!==n.className&&"node node-finish"!==n.className&&(document.getElementById("node-".concat(t.row,"-").concat(t.col)).className="node node-visited")},10*i)},o=0;o<=e.length;o++){var a=i(o);if("object"===typeof a)return a.v}}},{key:"animateShortestPath",value:function(e){for(var t=function(t){setTimeout(function(){var n=e[t],i=document.getElementById("node-".concat(n.row,"-").concat(n.col));"node node-start"!==i.className&&"node node-finish"!==i.className&&(document.getElementById("node-".concat(n.row,"-").concat(n.col)).className="node node-shortest-path")},20*t)},n=0;n<e.length;n++)t(n);this.setState({isAnimating:!1})}},{key:"isEmpty",value:function(){for(var e=this.state.grid,t=0;t<e.length;t++)for(var n=0;n<e[0].length;n++){var i=e[t][n];if(console.log("Node at row ".concat(t," col ").concat(n," has class ").concat(i.className)),"node"!==i.className||null!==i.className)return console.log("Node is not empty!"),!1}return console.log("Grid is empty!"),!0}},{key:"isDestination",value:function(e){return"node node-destination"===e.className}},{key:"visualizeDijkstra",value:function(){console.log("Starting visualizeDijkstra()...");var e=this.state,t=e.grid,n=e.destinationNodes;if(this.isEmpty()&&alert("Please add some walls to the grid!"),2===n.length){var i=t[n[0].row][n[0].col],o=t[n[1].row][n[1].col],a=y(t,i,o),r=w(o);this.animatePathfinding(a,r),this.setState({isAnimating:!0})}else alert("Please select two destination nodes!")}},{key:"visualizeAStar",value:function(){console.log("Starting visualizeAStar()...");var e=this.state,t=e.grid,n=e.destinationNodes;if(this.isEmpty()&&alert("Please add some walls to the grid!"),2===n.length){var i=t[n[0].row][n[0].col],o=t[n[1].row][n[1].col],a=k(t,i,o),r=w(o);this.animatePathfinding(a,r),this.setState({isAnimating:!0})}else alert("Please select two destination nodes!")}},{key:"render",value:function(){var e=this,t=this.state.grid;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"header"},o.a.createElement("div",{id:"directions"},"click on a node to make it a destination node ",o.a.createElement("br",null),"hold shift and drag to make a wall ",o.a.createElement("br",null),"press an algorithm to visualize the path ",o.a.createElement("br",null),"press the reset button to clear the grid ",o.a.createElement("br",null)),o.a.createElement("div",{id:"destination-node-display"},o.a.createElement("h3",null,"Destination Nodes:"),t.map(function(e,t){return o.a.createElement("div",{key:t},e.filter(function(e){return"node-destination"===e.color}).map(function(e,t){return o.a.createElement("span",{key:t},"(",e.row,", ",e.col,")")}))}))),o.a.createElement("div",{className:"grid"},t.map(function(t,n){return o.a.createElement("div",{key:n},t.map(function(t,n){var i=t.row,a=t.col,r=t.isDestination,s=t.isWall,c=t.isVisited,l=t.distance,d=t.heuristic;return o.a.createElement(m,{key:"".concat(i,"-").concat(a),col:a,isDestination:r,isWall:s,row:i,isVisited:c,distance:l,heuristic:d,isAnimating:e.state.isAnimating,onMouseDown:function(t){return e.handleMouseDown(i,a,t)},onMouseEnter:function(t){return e.handleMouseEnter(i,a,t)},onMouseUp:function(){return e.handleMouseUp()}})}))}),o.a.createElement("div",{id:"buttons"},o.a.createElement("button",{onClick:function(){return e.visualizeDijkstra()},disabled:this.state.isAnimating},"D I J K S T R A"),o.a.createElement("button",{onClick:function(){return e.visualizeAStar()},disabled:this.state.isAnimating},"A S T A R"),o.a.createElement("button",{onClick:function(){return e.clearGrid()},disabled:this.state.isAnimating},"R E S E T"))))}}]),t}(i.Component),M=function(){for(var e=[],t=0;t<20;t++){for(var n=[],i=0;i<50;i++)n.push(O(i,t));e.push(n)}return e},O=function(e,t,n,i,o,a){return{col:e,row:t,isStart:n,isDestination:i,distance:1/0,isVisited:!1,isWall:!1,previousNode:null,heuristic:1/0,color:o,isSelected:a}},I=function(e,t,n){var i=e.slice(),o=i[t][n],a=Object(s.a)({},o,{isWall:!o.isWall});return i[t][n]=a,i};var P=function(){return o.a.createElement("div",{className:"container"},o.a.createElement(j,null))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(P,null)))}},[[10,2,1]]]);
//# sourceMappingURL=main.18a4e118.chunk.js.map